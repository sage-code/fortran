<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta name="description" content="Understanding Fortran data types and data reporting.">
  <meta name="author" content="Elucian Moise">
  <meta name="keywords" content="data, type, fortran, declaration, array, string, character, variable, float, integer, complex, print, format">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">

  <!-- Website title -->
  <title>Fortran Types</title>  

  <!-- Bootstrap CSS -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous">
  <!-- Icon -->
  <link rel="icon" type="image/png"  href="../images/favicon.ico">  
  <!-- Prism Highlighter -->
  <link rel="stylesheet" href="../prism.css">
  <script src="../prism.js"></script>
  <!-- custom css -->
  <link rel="stylesheet" href="../sage.css">
</head>

<body>

<div class="container">
        
<!-- header -->
<div class="row">
    <div class="col">
        <a href="https://sagecode.net"><img src="../images/sage-logo.svg" alt="Sage-Code Laboratory" height="80"/></a>
    </div>  
    <div class="col  bottom-right">
        <a href="index.html#lang-index">index</a>&lt;--
    </div>
</div><hr>


<h1>Fortran Data Types</h1>


<div class="alert alert-secondary shadow-sm">
Fortran is a statically typed language. That means you need to declare data type for variables. Once establish, data type can't be changed during program runtime. To change data type you need to modify the source code and recompile the project.</div>

<h2>Data Literals</h2>

<p>Constant data can be represented as <em>data literals</em>. This is a special notation that represent different kind of data. For every data literal there is a default type that is assigned automatically by the compiler. Data literals can't be changed during runtime. They are embedded in source code.</p>

<h2>Basic Types</h2>

<p>Fortran, supports five intrinsic data types. The most frequently used data types are integer and floating-point. Other data types are complex numbers, characters and logical data.</p>

<!-- simple table-->
<table class="table table-bordered table-striped" style="width: 100%;">
<tr>    
    <th>Type</th>
    <th>Description</th>
</tr></thead>
<tbody>
<tr><td><a href="#integer">integer </a></td>
    <td>A whole number (not a fraction) that can be positive, negative, or zero.</td></tr>
<tr><td><a href="#real">real</a></td>
    <td>Variable that can be set to a real number.</td></tr>
<tr><td><a href="#complex">complex</a></td>
    <td>Variable that can be set to a complex number.</td></tr>
<tr><td><a href="#character">character</a></td>
    <td>Variable that is a character or sequence of characters.</td></tr>
<tr><td><a href="#logical">logical</a></td>
    <td>Variable that can only be set to .true. or .false.</td></tr>
</tbody>
</table>

<h3><a id="integer"></a>Integer</h3>

<p>An integer is a whole number (not a fraction) that can be positive, negative, or zero. Examples include the numbers 10, 0, -30 Integers are the numbers people are most familiar with, and they serve a crucial role in mathematics and computers. Division of integers produce integer numbers. So 1 divided by two (1/2) is 0 since the result must be a whole number.</p>

<h3><a id="real"></a>Real</h3>

<p>A real number includes the fractional part, even if the fractional part is 0. Real numbers, also referred to as floating-point numbers, include both rational numbers and irrational numbers. 

<p>Examples of irrational numbers or numbers with repeating decimals include π and e. Additional examples include literals: 1.5, 5.0, and 3.14159. Fortran 95/2003/2008 will accept 5. as 5.0 but the examples in this text will include the .0 to ensure clarity.</p>
 
<h3><a id="complex"></a>Complex</h3>

<p>A complex number, in mathematics, is a number comprising a real number and an imaginary number. It can be written in the form of a + bi, where a and b are real numbers, and the i is the standard imaginary
unit with the property that i^2 = −1.0. The complex numbers contain the ordinary real numbers, but extend them by adding in extra numbers like an extra dimension. This data type is not used extensively, but can be useful when needed.</p>

<h3><a id="character"></a>Character</h3>

<p>A character is a symbol like a letter, numerical digit, or punctuation. A string is a sequence or set of characters. Characters and strings are typically enclosed in quotes. For example, the upper case letter "Z" is a character and "Hello World" is a string. The characters are represented in a standardized format referred to as ASCII.</p>

<h3><a id="logical"></a>Logical</h3>

<p>A logical is only allowed to have two values, true or false. A logical can also be referred to as a Boolean. In Fortran, the true and false values are formally expressed as .true. or .false. which are also
called logical constants. The leading and trailing . (period) are required for the true and false constants.</p>

<h2>Declarations</h2>

<p>Fortran has implicit and explicit data declarations. You can decide to disable implicit data types. If you do so, data checking is more tight so you end-up with less logical errors, but you have to declare data type for all variables, parameters and results.</p>

Declaring variables formally defines the data type of each variable and sets aside a memory location.
This is performed by a type declaration statement in the form of:
<type> :: <list of variable names>
The type must be one of the predefined data types (integer, real, complex, character, logical) as outlined
in the previous section. Declarations are placed in the beginning of the program (after the program
statement).

<!--two columns pattern-->
<div class="row">

<!-- first column -->
<div class="column col-md-6 panel">
<div class="panel-heading">example</div>
<div class="panel-body">
<pre class="code-panel">
<code class="language-fortran line-numbers"
>!fortran example
program variables
  implicit none

  integer :: amount
  real :: pi
  complex :: frequency
  character :: initial
  logical :: isOkay
  character(len=20):: str

  amount = 10
  pi = 3.1415927
  frequency = (1.0, -0.5)
  initial = 'A'
  isOkay = .false.

  print *, amount
  print *, pi
  print *, initial
  print *, isOkay, .true.

  str = "Fortran is cool"
  print *, str
end program variables
</code></pre>
</div>
</div>

<!-- second column -->
<div class="column col-md-6 panel">
<div class="panel-heading">console</div>
<div class="panel-body">
<pre class="code-panel">
<code class="language-output"
>&gt;./vars
          10
   3.14159274    
 A
 F T
 Fortran is cool 
&gt;       
</code></pre>
</div>
</div>
</div>

<h2>Expressions</h2>

<p>Expressions are sequence of identifiers, operators, separators and data literals. Each expression can produce a result of a specific data type that is determined by the compiler. You can use the expression result in a statement.</p>

<!--two columns pattern-->
<div class="row">

<!-- first column -->
<div class="column col-md-6 panel">
<div class="panel-heading">example</div>
<div class="panel-body">
<pre class="code-panel">
<code class="language-fortran line-numbers"
>program expressions
  integer:: a = 10, b = 3
  real:: r = .0
  print *, a + 1
  print *, "a/b =", a/b
  r = (a + 2)/b
  print *, "r = ", r
  e = a ** b
  print *, "e = ", e
end program
</code></pre>
</div>
</div>

<!-- second column -->
<div class="column col-md-6 panel">
<div class="panel-heading">console</div>
<div class="panel-body">
<pre class="code-panel">
<code class="language-output"
>&gt;./exp
          11
 a/b =           3
 r =    4.00000000    
 e =    1000.00000  
&gt;       
</code></pre>
</div>
</div>
</div>

<p><em>Notes: </em>Expressions can be combined together to create larger expressions. In a larger expression, the order of operations is important. It is dictated by the operator priority. You can modify the order of execution using round parenthesis.</p>


<h2>Arithmetic Expressions</h2>

<p>In Fortran we use infix expressions. That means operator is between two operands like (x + y), therefore most operators are called binary operators. Sometimes there is only one operand, in this case the operator is "unary" operators.</p>

<!-- the operators-->
<h4>Math operators</h4>

<p>Obvious arithmetic operators are used in numeric expressions. We have a problem with the computers the number of operators is limited to the number of legacy ASCII special symbols that is very limited. We can't use Unicode symbols as operators in Fortran.</p>

<table class="table table-bordered table-striped" style="width: 100%;">
<tr>    
    <th>Symbol</th>
    <th>Description</th>
    <th>Given</th>
    <th>Expression</th>
    <th style="text-align: right">Result</th>    
</tr></thead>
<tbody>
<tr>
    <td>-</td>
    <td>Sign change</td>
    <td>a=10</td>
    <td>-a</td>
    <td style="text-align: right">-10</td>
</tr>
<tr>
    <td>-</td>
    <td>Subtraction</td>
    <td>a=10, b=3</td>
    <td>a - b</td>
    <td style="text-align: right">7</td>
</tr>
<tr>
    <td>+</td>
    <td>Addition</td>
    <td>a=10</td>
    <td>a + 2</td>
    <td style="text-align: right">12</td>
</tr>
<tr>
    <td>*</td>
    <td>Multiplication</td>
    <td>a=10, b=0.5</td>
    <td>a * b</td>
    <td style="text-align: right">5.0</td>
</tr>
<tr>
    <td>/</td>
    <td>Division</td>
    <td>a=10, b=3</td>
    <td>a/b</td>
    <td style="text-align: right">3</td>
</tr>
<tr>
    <td>**</td>
    <td>Exponential</td>
    <td>a=10, b=3</td>
    <td>a ** b</td>
    <td style="text-align: right">1000</td>
</tr>
</tbody>
</table>


<!-- the operators-->
<h2>Logic expressions</h2>

<p>Before creating conditionals you need to understand logical expressions. These are evaluated to values {.true. or .false.} in old Fortran {.T. or .F.}. You can logical and relation operators with variables, constants and function calls to create logical expressions.</p>

<h3>Logic operators</h3>

<p>Logic operators are based on keywords. These special keywords are enclosed between two dots. Is a little bit annoing but you can get use to it eventually.</p>

<table class="table table-bordered table-striped" style="width: 100%;">
<tr>    
    <th>Symbol</th>
    <th>Description</th>
    <th>A</th>
    <th>B</th>
    <th>Expression</th>
    <th>Result</th>
</tr></thead>
<tbody>
<tr>
    <td rowspan="2">.not.</td>
    <td rowspan="2">Logic NOT</td>
    <td>.false.</td>
    <td></td>
    <td>.not. A </td>
    <td>.true.</td>
</tr>   
<tr>
    <td></td>
    <td>.true.</td>    
    <td>.not. B </td>
    <td>.false.</td>    
</tr>    
<tr>
    <td rowspan="2">.and.</td>
    <td rowspan="2">Logic AND</td>
    <td>.true.</td>
    <td>.false.</td>
    <td>A .and. B</td>
    <td>.false.</td>    
</tr>
<tr>
    <td>.true.</td>
    <td>.true.</td>
    <td>A .and. B</td>
    <td>.true.</td>    
</tr>
<tr>
    <td rowspan="2">.or.</td>
    <td rowspan="2">Logic OR</td>
    <td>.true.</td>
    <td>.false.</td>
    <td>A .or. B</td>
    <td>.true.</td>    
</tr>
<tr>
    <td>.false.</td>
    <td>.false.</td>
    <td>A .or. B</td>
    <td>.false.</td>    
</tr>
<tr>
    <td rowspan="2">.eqv.</td>
    <td rowspan="2">Equivalent</td>
    <td>.true.</td>
    <td>.false.</td>
    <td>A .eqv. B</td>
    <td>.false.</td>    
</tr>
<tr>
    <td>.false.</td>
    <td>.false.</td>
    <td>A .eqv. B</td>
    <td>.true.</td>    
</tr>
</tbody>
</table>

<h3>Relation operators</h3>

<p>Fortran operators have changed from old syntax 77 to new syntax 90 and beyond. We use these operators to create logic expressions that return a Boolean value. You can compare numbers or characters.</p> 

<!-- simple table-->
<table class="table table-bordered table-striped" style="width: 100%;">
<tr>    
    <th>New Fortran</th>
    <th>Old Fortran</th>
    <th>Description</th> 
    <th>Example</th>   
</tr></thead>

<tbody>
<tr>
<tr><td>&lt; </td><td>.LT. </td><td>Less than             </td>
<td>a &lt; b</td></tr>
<tr><td>&gt; </td><td>.GT. </td><td>Greater than          </td>
<td>a &gt; b</td></tr>
<tr><td>>=   </td><td>.GE. </td><td>Greater than or equal </td>
<td>a >= b</td></tr>
<tr><td><=   </td><td>.LE. </td><td>Less than or equal    </td>
<td>a <= b</td></tr>
<tr><td>==   </td><td>.EQ. </td><td>Equal                 </td>
<td>a == b</td></tr>
<tr><td>/=   </td><td>.NE. </td><td>Not equal             </td>
<td>a /= b</td></tr>
</tbody>
</table>

<h2>String expressions</h2>

<p>In Fotran, strings are ASCII encoded. You can have string literals enclosed in single or double quoted delimiters. A delimiter must be duplicated inside string to represent the symbol itself. Usually text strings are double quoted because English has &apos; used in words.</p>

<h3>Concatenation: "//"</h3> 

<p>Strings can be joined together using special operator double slash, that is usually a comment in other languages. This is why Fortran is a little bit strange. Remember, comments are starting with bang symbol "!" and this is also unusual.</p> 

<!--code pannel-->
<div class="panel">
<div class="panel-heading">example</div>
<div class="panel-body">
<pre class="code-panel"><code class="language-fortran line-numbers">!this is fortran 
program string
  implicit none

  character(len=4) :: first_name
  character(len=5) :: last_name
  character(10) :: full_name

  first_name = 'John'
  last_name = 'Smith'

  ! String concatenation
  full_name = first_name//' '//last_name

  print *, full_name

  print *, "log strings &
  can span multiple lines
  if you use operator && 
  "

end program string
</code></pre>
</div></div>

<h4>Notes:</h4>

<ol>
<li>Numbers and strings can't be concatenated together like in JavScript or Python. You need to convert the numbers into strings before concatenation, but this is not straight forward.</li>

<li> In Fortran standard there is no escape sequence like in C. Therefore you must use function achar() to produce special characters and the you can concatenate a special character in the string.</li>
</ol>

<h3>Continuation: "&amp;" </h3>

<p> In Fortrand longer strings can be represented on multiple lines if each line is ending with single ampersand symbol. This is the continuation operator and is not part of the string.</p>



<!--two columns pattern-->
<div class="row">
<!-- first column -->
<div class="column col-md-6 panel">
<div class="panel-heading">example: continue.f95</div>
<div class="panel-body">
<pre class="code-panel">
<code class="language-fortran line-numbers"
>program main

! escape character
character :: lf = achar(10) 

! this statement does nothing
if (.true.) continue


! long string on multiline
print "(a)", &   
  "continue " //lf//&
  "can be used "     //lf//&
  "wen a statement " //lf//&
  "is required "     //lf//&
  "but there is "    //lf//&
  "nothing to do there!"
end program
</code></pre>
</div>
</div>
<!-- second column -->
<div class="column col-md-6 panel">
<div class="panel-heading">console</div>
<div class="panel-body">
<pre class="code-panel">
<code class="language-output"
>&gt;./continue 
continue 
can be used 
wen a statement 
is required 
but there is 
nothing to do there!
&gt;  
</code></pre>
</div>
</div>
</div>

<p><em>Notes: </em>Symbol "&" must be used together with "//" in the example above, otherwise the strings are not concatenated and this is correct but it could have been done better.</p>

<h2>Data Input/Output</h2>

<p>Input/Output operations are tightly related to data types. Usually input/output can be from console or from file data fields. There are 3 statement for performing I/O.</p> 

<pre>read, write, print </pre>

<p>These operations require format specification, and can output a list of variables, constants or expressions. The arguments are separated by comma.</p> 

<h3>Format specification</h3>

<p>Data format can be simple as "*" that is handled automatically by the system and it supports many variables. Better format is a string containing a set of rule that you can create for different data types. Check the example:</p>

<!--two columns pattern-->
<div class="row">
<!-- first column -->
<div class="column col-md-6 panel">
<div class="panel-heading">example</div>
<div class="panel-body">
<pre class="code-panel">
<code class="language-fortran line-numbers">!fortran example
program main
  
  real:: r = 225.502
  integer:: i = 25
  character(len=*):: t= "Test"
  character(len=*),parameter::&
  fmt='(a," ", i5.4," ", f10.5)'
  
  print fmt, trim(t), i, r
end program
</code></pre>
</div>
</div>
<!-- second column -->
<div class="column col-md-6 panel">
<div class="panel-heading">console</div>
<div class="panel-body">
<pre class="code-panel">
<code class="language-output"
>&gt;./format
Test  0025  225.50200
</code></pre>
</div>
</div>
</div>

<p><em>Notes: </em> In the example above you can see 3 variables of different kind can be combined using a single format string that has inside 3 specifications separated by comma. You will get many errors until you get the format right. The format is very powerful feature in Fortran. If you learn it right you can create a report quickly from your data.<p>

<h3>Format Rules</h3>

<p>Rule format is a string with the following convention: It must be enclosed in round brackets like: "( ... )" or '( ... )'. The specification can hold rules and arbitrary text. The text must be enclosed in alternative quotes, "" or '' depending on outer quotes. </p>

<!-- simple table-->
<table class="table table-bordered table-striped" style="width: 100%;">
<tr>    
    <th>Format</th>
    <th>Description</th>
</tr></thead>

<tbody>
<tr><td> "..."    </td><td>Inserts arbitrary characters.</td></tr>
<tr><td> Iw[.m]   </td><td>Read/write w characters as integer number, with optional number of leading zeros m. </td></tr>
<tr><td> Bw[.m]   </td><td>Read/write w characters as binary values, with optional number of leading zeros m.  </td></tr>
<tr><td> Ow[.m]   </td><td>Read/write w characters as octal values, with optional number of leading zeros m.   </td></tr>
<tr><td> Zw[.m]   </td><td>Read/write w characters as hexadecimal values, with optional number of leading zeros m. </td></tr>
<tr><td> Fw.d     </td><td>Read/write floating-point number in decimal notation, with w digits, of which d is the number of decimal places. Sign and floating point must be regarded in w. F0.d allows a variable length.  </td></tr>
<tr><td> Ew.d     </td><td>Read/write floating-point number in exponential notation, with w characters and a mantissa of d digits..    </td></tr>
<tr><td> EXw.d[Ee]</td><td>Read/write real value in hexadecimal, with field width w, the number of hexadecimal digits in d, and the optional exponent e (Fortran 2018).    </td></tr>
<tr><td> Dw.d     </td><td>Read/write Floating-point number, double precision. </td></tr>
<tr><td> A, Aw.   </td><td>Read/write arbitrary length string, or fixed string with w characters   </td></tr>
<tr><td> Lw       </td><td>Read/write w characters as logical. </td></tr>
<tr><td> nX       </td><td>Read: Ignore the next n characters.</td></tr>
<tr><td> nX       </td><td>Write: Print n spaces." </td></tr>
<tr><td> Tc       </td><td>Puts next character at position c in line.  </td></tr>
<tr><td> /        </td><td>Force a line feed that makes rule o 2 rows.  </td></tr>
</tbody> 
</table>

<h3>Rule Multiplier</h3>

<p>The rule can be multiplied like this: nR where n is an integer number. It will create n column having same rule R. The rule R use to start with a capital letter but new format works with lowercase letters as well.</p> 

<hr>
<p><b>Read next:</b>
<a href="structure.html">Code Structure</a></p>

<!-- Footer -->
<footer class="footer">
  <div class="footer-copyright text-center"></div>
</footer>

</div></body></html>