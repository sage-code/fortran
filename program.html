<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta name="description" content="Introduction to program structure in Fortran.">
  <meta name="author" content="Elucian Moise">
  <meta name="keywords" content="fortran, structure, structured programming, paradigm">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">

  <!-- Website title -->
  <title>Program Structure</title>  

  <!-- Bootstrap CSS -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous">
  <!-- Icon -->
  <link rel="icon" type="image/png"  href="../images/favicon.ico">  
  <!-- Prism Highlighter -->
  <link rel="stylesheet" href="../prism.css">
  <script src="../prism.js"></script>
  <!-- custom css -->
  <link rel="stylesheet" href="../sage.css">
</head>

<body>

<div class="container">
        
<!-- header -->
<div class="row">
    <div class="col">
        <a href="https://sagecode.net"><img src="../images/sage-logo.svg" alt="Sage-Code Laboratory" height="80"/></a>
    </div>  
    <div class="col  bottom-right">
        <a href="index.html#lang-index">index</a>&lt;--
    </div>
</div><hr>


<h1>Program Structure</h1>


<div class="alert alert-secondary shadow-sm">
Fortran has higher level concepts to organize a large program into small parts named sometimes subprograms. The main program will orghestrate a main logical thread that has jumps, back and forward from a subprogram to another into a tree like structure. This is called structured programming.</div>

<p>Structured programming was invented to eliminate the "spagety code" syndrom that can be encontered in linear programming that is using "goto" statement to jump back and forward. In modern Fortran the use of goto statement is not necesary and not used, so the program is more readable.</p>

<h2>Program</h2>

<p>Fotran has a special keyword to define the main program. This is translated to function main(), and is the entry point of any fortran application. The main program has a name and parameters.</p>

<!--code pannel-->
<div class="panel">
<div class="panel-heading">syntax pattern</div>
<div class="panel-body">
<pre class="code-panel"><code class="language-fortran line-numbers"
>!this is fortran 
program main
   ! declare parameters
   ! declare variables
   ! program statements
   ...
contains
   ! declare subprograms
   ...
end program hellp
</code></pre>
</div></div>

<p><em>Note: </em>The main program can have exit status. If the exit status is 0 the program is succesful. If the exit status is not zero but a positive number, that is the error code.</p>

<p><em>Stop: </em> Main program can be intrerupted using "stop" statement. GNU compiler has exit extension but is not part of the standard. I will try to find out more about "stop" statement.</p>

<h2>Subroutine</h2>

<p>A subroutine is a subprogram that have a name, input/oturput parameters and side-effects. Subroutine has it's own local scope where you can declare variables. The subroutine can be created in "contains" region of program.</p>


<h4>parameters</h4>

<p>Unlike other strongly typed languages, in Fortran, the parameters are declared without type in the subroutine signature. These are called dummy parameters. After signature, youc an add information about every parameter using declarative statements.</p>


<h2>Function</h2>

<p>Fortran has enhanced support for functions. A function can return a single result. You can define the dummy result name in the function signature using keyword "result". You need to define the result type using declarative statement in the function body.</p>


<h2>Module</h2>

<p>Fortran is a modular language. Modules, are usually stored in external files but can be created in the same file as the main program. You must import a module before you can use it's members. You can import a module using the keyword: "use".</p>

<!-- a regular diagram -->
<div class="text-center">
  <img src="../images/function.svg" alt="function components"
       width="600" class="img-fluid protect rounded shadow border" >
  <p>Function Components</p>
</div>

<!--console pannel-->
<div class="panel">
<div class="panel-heading">console</div>
<div class="panel-body">
<pre class="code-panel"><code class="language-output">gfortran hello.f95 -o hello
./hello
hello world
</code></pre>
</div></div>

<!--two columns pattern-->
<div class="row">
<!-- first column -->
<div class="column col-md-6 panel">
<div class="panel-heading">example</div>
<div class="panel-body">
<pre class="code-panel">
<code class="language-bash line-numbers">!fortran example
</code></pre>
</div>
</div>
<!-- second column -->
<div class="column col-md-6 panel">
<div class="panel-heading">console</div>
<div class="panel-body">
<pre class="code-panel">
<code class="language-output">~&gt;
</code></pre>
</div>
</div>
</div>

<!-- simple table-->
<table class="table table-bordered table-striped" style="width: 100%;">
<tr>    
    <th>Symbol</th>
    <th>Description</th>
    <th>Example</th>
</tr></thead>

<tbody>
<tr>
    <td>#cell</td>
    <td>#cell</td>
    <td>#cell</td>
</tr>
</tbody>
</table>

<!-- work in progress-->

<hr>
<p><b>Read next:</b>
<a href="types.html">Data Types</a></p>

<!-- Footer -->
<footer class="footer">
  <div class="footer-copyright text-center"></div>
</footer>

</div></body></html>